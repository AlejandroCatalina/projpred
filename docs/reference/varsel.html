<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Variable selection for generalized linear models — varsel • projpred</title>

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Variable selection for generalized linear models — varsel" />

<meta property="og:description" content="Perform the projection predictive variable selection for generalized linear models using
generic reference models." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projpred</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/rstan">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/rstanarm">rstanarm</a>
    </li>
    <li>
      <a href="http://mc-stan.org/bayesplot">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/shinystan">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/loo">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/rstantools">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/projpred/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="http://discourse.mc-stan.org/">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Variable selection for generalized linear models</h1>
    
    <div class="hidden name"><code>varsel.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Perform the projection predictive variable selection for generalized linear models using
generic reference models.</p>
    
    </div>

    <pre class="usage"><span class='fu'>varsel</span>(<span class='no'>object</span>, <span class='kw'>d_test</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nc</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nspred</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ncpred</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>relax</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nv_max</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>penalty</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='no'>F</span>,
  <span class='kw'>lambda_min_ratio</span> <span class='kw'>=</span> <span class='fl'>1e-05</span>, <span class='kw'>nlambda</span> <span class='kw'>=</span> <span class='fl'>150</span>, <span class='kw'>thresh</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>,
  <span class='kw'>regul</span> <span class='kw'>=</span> <span class='fl'>1e-04</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Either a <code>refmodel</code>-type object created by <a href='get-refmodel.html'>get_refmodel</a>
or <a href='init_refmodel.html'>init_refmodel</a>, or an object which can be converted to a reference model
using <a href='get-refmodel.html'>get_refmodel</a>.</p></td>
    </tr>
    <tr>
      <th>d_test</th>
      <td><p>A test dataset, which is used to evaluate model performance.
If not provided, training data is used. Currently this argument is for internal use only.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The method used in the variable selection. Possible options are
<code>'L1'</code> for L1-search and <code>'forward'</code> for forward selection.
Default is 'forward' if the number of variables in the full data is at most 20, and
<code>'L1'</code> otherwise.</p></td>
    </tr>
    <tr>
      <th>ns</th>
      <td><p>Number of posterior draws used in the variable selection.
Cannot be larger than the number of draws in the reference model.
Ignored if nc is set.</p></td>
    </tr>
    <tr>
      <th>nc</th>
      <td><p>Number of clusters to use in the clustered projection.
Overrides the <code>ns</code> argument. Defaults to 1.</p></td>
    </tr>
    <tr>
      <th>nspred</th>
      <td><p>Number of samples used for prediction (after selection). Ignored if ncpred is given.</p></td>
    </tr>
    <tr>
      <th>ncpred</th>
      <td><p>Number of clusters used for prediction (after selection). Default is 5.</p></td>
    </tr>
    <tr>
      <th>relax</th>
      <td><p>If TRUE, then the projected coefficients after L1-selection are computed
without any penalization (or using only the regularization determined by <code>regul</code>). If FALSE, then
the coefficients are the solution from the L1-penalized projection. This option is relevant only
if <code>method</code>='L1'. Default is TRUE for genuine reference models and FALSE if <code>object</code> is
datafit (see <a href='init_refmodel.html'>init_refmodel</a>).</p></td>
    </tr>
    <tr>
      <th>nv_max</th>
      <td><p>Maximum number of varibles until which the selection is continued.
Defaults to min(20, D, floor(0.4*n)) where n is the number of observations and
D the number of variables.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>Whether to use intercept in the submodels. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>penalty</th>
      <td><p>Vector determining the relative penalties or costs for the variables.
Zero means that those variables have no cost and will therefore be selected first,
whereas Inf means that those variables will never be selected. Currently works only 
if method == 'L1'. By default 1 for each variable.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If TRUE, may print out some information during the selection.
Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>lambda_min_ratio</th>
      <td><p>Ratio between the smallest and largest lambda in the L1-penalized search.
This parameter essentially determines how long the search is carried out, i.e., how large submodels
are explored. No need to change the default value unless the program gives a warning about this.</p></td>
    </tr>
    <tr>
      <th>nlambda</th>
      <td><p>Number of values in the lambda grid for L1-penalized search. No need to change unless
the program gives a warning about this.</p></td>
    </tr>
    <tr>
      <th>thresh</th>
      <td><p>Convergence threshold when computing L1-path. Usually no need to change this.</p></td>
    </tr>
    <tr>
      <th>regul</th>
      <td><p>Amount of regularization in the projection. Usually there is no need for 
regularization, but sometimes for some models the projection can be ill-behaved and we
need to add some regularization to avoid numerical problems.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to be passed to the <code>get_refmodel</code>-function.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type <code>vsel</code> that contains information about the feature selection. The fields are not 
meant to be accessed directly by the user but instead via the helper functions (see the vignettes or type ?projpred
to see the main functions in the package.)</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### Usage with stanreg objects</span>
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>stan_glm</span>(<span class='no'>y</span>~<span class='no'>x</span>, <span class='fu'>binomial</span>())</div><div class='output co'>#&gt; <span class='error'>Error in stan_glm(y ~ x, binomial()): could not find function "stan_glm"</span></div><div class='input'><span class='no'>vs</span> <span class='kw'>&lt;-</span> <span class='fu'>varsel</span>(<span class='no'>fit</span>)</div><div class='output co'>#&gt; <span class='error'>Error in get_refmodel(object, ...): object 'fit' not found</span></div><div class='input'><span class='fu'><a href='varsel-statistics.html'>varsel_plot</a></span>(<span class='no'>vs</span>)</div><div class='output co'>#&gt; <span class='error'>Error in "vsel" %in% class(object): object 'vs' not found</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Juho Piironen, Markus Paasiniemi, Aki Vehtari.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

